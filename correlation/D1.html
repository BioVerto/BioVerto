<html>
<script  type="text/javascript" src="Hello.js"></script>
<script>

correlation = Module.cwrap(
  'correlation', 'number', ['number', 'number', 'number']
);


var data1 = new Float32Array([14.2,   16.4,    11.9,    15.2,    18.5,    22.1,    19.4,    25.1,    23.4,    18.1,    22.6,    17.2]);
var nDataBytes1 = data1.length * data1.BYTES_PER_ELEMENT;
var dataPtr1 = _malloc(nDataBytes1);
var dataHeap1 = new Uint8Array(Module.HEAPU8.buffer, dataPtr1, nDataBytes1);
dataHeap1.set(new Uint8Array(data1.buffer));


var data2 = new Float32Array([215,   	 325,   	185,   	332,   	406,   	522,   	412,   	614,   	544,   	 421,   	 445,   408]);
var nDataBytes2 = data2.length * data2.BYTES_PER_ELEMENT;
var dataPtr2 = _malloc(nDataBytes2);
var dataHeap2 = new Uint8Array(Module.HEAPU8.buffer, dataPtr2, nDataBytes2);
dataHeap2.set(new Uint8Array(data2.buffer));


var result = correlation(dataHeap1.byteOffset, dataHeap2.byteOffset, data1.length);
 
document.write("Answer " + result);

_free(dataHeap1.byteOffset);
_free(dataHeap2.byteOffset);

</script>
<body>

</body>
</html>